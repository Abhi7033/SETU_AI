# Design: Setu (Sanjeevani) AI

## 1. System Architecture
The system is designed as a **Mobile-First, Edge-AI solution** to ensure functionality in low-connectivity regions.

### High-Level Components:
1.  **The Edge Client (Mobile App):**
    - **User Interface:** Simple, high-contrast, voice-first UI.
    - **Local Database:** SQLite/Isar for storing patient records offline.
    - **Inference Engine:** TensorFlow Lite / ONNX Runtime for running quantized models (SLMs) locally.
2.  **The Cloud Bridge (Sync Server):**
    - **API Gateway:** Secure endpoints for syncing data when connectivity is restored.
    - **Model Registry:** For updating local models (OTA updates).
    - **Telemedicine Portal:** Web dashboard for doctors to view patient records generated by the app.

## 2. Data Flow
1.  **Input:** ASHA worker speaks in local dialect (e.g., "Mataji ko teen din se tez bukhar hai aur saans lene mein takleef hai").
2.  **Processing (Local/Hybrid):**
    - **ASR:** Converts audio to text in local script.
    - **Translation:** Translates local text to English.
    - **Structure Extraction (LLM):** Extracts entities (Symptom: Fever, Duration: 3 days, Severity: High, Symptom: Breathlessness).
    - **Triage Logic:** Checks symptoms against a rules engine/SLM. Detects "Breathlessness" + "Fever" -> Possible Pneumonia/COVID -> **Red Flag**.
3.  **Output:**
    - **App Display:** Shows generated structured note + "Refer to Hospital" Alert.
    - **Voice Output:** Tells ASHA worker (in local language): "This looks serious. Please take her to the district hospital immediately."

## 3. UI/UX Conceptualization
**Design Philosophy:** "Thumb-friendly, Voice-first, Visual."

- **Home Screen:**
    - Large "New Patient" button (Green).
    - Recent Patients list.
    - "Sync Status" indicator (Offline/Online).
- **Consultation Mode:**
    - **Big Mic Button:** Pulse animation when listening.
    - **Live Transcript:** Shows text appearing in real-time.
    - **Summary Card:** Auto-generated fields (Age, Symptoms, Vitals).
- **Prescription Reader:**
    - Camera viewfinder with "Scan" overlay.
    - Result screen: Image on top, translated audio player at bottom ("Play Instructions").

## 4. Privacy & Ethics
- **Consent:** Explicit voice consent recorded before starting.
- **Data Minimization:** Only essential medical data is stored.
- **Zero-Retention:** Audio is processed and discarded; only the transcript is saved (optional).
